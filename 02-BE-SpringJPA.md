## Back End
### Create Spring Entity
Create new package name: `entity`</br>
Create new class: `Product`</br>
Create new class: `ProductCategory`</br>
#### Product
> Add Entity. Table. Data annotations</br>
> Set id as Id and AutoGeneratedValue</br>
> Set category as ManyToOne relation and JoinColumn property</br>
> Set dateCreated using CreationTimestamp</br>
> Set lastUpdated using UpdateTimestamp</br>
```
@Entity
@Table(name="product")
@Data
public class Product {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    @Column(name = "id")
    private Long id;

    @ManyToOne
    @JoinColumn(name = "category_id", nullable = false)
    private ProductCategory category;

    @Column(name = "sku")
    private String sku;
    @Column(name = "name")
    private String name;
    @Column(name = "description")
    private String description;
    @Column(name = "unit_price")
    private BigDecimal unitPrice;
    @Column(name = "image_url")
    private String imageUrl;
    @Column(name = "active")
    private boolean active;
    @Column(name = "units_in_stock")
    private int unitsInStock;
    @Column(name = "date_created")
    @CreationTimestamp
    private Date dateCreated;
    @Column(name = "last_updated")
    @UpdateTimestamp
    private Date lastUpdated;

}
```
#### ProductCategory
> Add Entity. Table. Getter. Setter annotations (Cannot use @Data for @OneToMany)</br>
> Set id as Id and AutoGeneratedValue</br>
> Set products as OneToMany relation and mappedBy property</br>
```
@Entity
@Table(name = "product_category")
//@Data -- known bug
@Getter
@Setter
public class ProductCategory {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    @Column(name = "id")
    private Long id;
    @Column(name = "category_name")
    private String categoryName;
    @OneToMany(cascade = CascadeType.ALL, mappedBy = "category")
    private Set<Product> products;
}
```
### Create Spring Dao
Create new package name: `dao`</br>
Create new interface: `ProductRepository`</br>
Create new interface: `ProductCategoryRepository`</br>
#### ProductRepository
> Extends JpaRepository
```
public interface ProductRepository extends JpaRepository<Product, Long> {
}
```
#### ProductCategoryRepository
> Add RepositoryRestResource annotation to add relation
> Extends JpaRepository
```
@RepositoryRestResource(collectionResourceRel = "productCategory", path = "product-category")
public interface ProductCategoryRepository extends JpaRepository<ProductCategory, Long> {
}
```
### Create Spring Config
Create new package name: `config`</br>
Create new class: `DataRestConfig`</br>
#### DataRestConfig
> Disable PUT, POST, DELETE methods
```
@Configuration
public class DataRestConfig implements RepositoryRestConfigurer {

    @Override
    public void configureRepositoryRestConfiguration(RepositoryRestConfiguration config) {
        HttpMethod[] theUnsupportedActions = {HttpMethod.PUT, HttpMethod.POST, HttpMethod.DELETE};

        config.getExposureConfiguration()
                .forDomainType(Product.class)
                .withItemExposure(((metdata, httpMethods) -> httpMethods.disable(theUnsupportedActions)))
                .withCollectionExposure(((metdata, httpMethods) -> httpMethods.disable(theUnsupportedActions)));

        config.getExposureConfiguration()
                .forDomainType(ProductCategory.class)
                .withItemExposure(((metdata, httpMethods) -> httpMethods.disable(theUnsupportedActions)))
                .withCollectionExposure(((metdata, httpMethods) -> httpMethods.disable(theUnsupportedActions)));
    }
}
```
